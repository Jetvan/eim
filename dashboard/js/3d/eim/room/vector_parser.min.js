var parsePathOrPoints=function(a){return a.trim()[0].match(/[mlhvcsqta]/i)?parsePath(a):parsePoints(a)},pointsCache={},parsePoints=function(a){var t=pointsCache[a];return t?t:(pointsCache[a]=t=[],a.trim().split(" ").forEach(function(a){a=a.split(","),2===a.length?t.push({x:parseFloat(a[0]),y:parseFloat(a[1])}):t.push(a[0])}),t)},pattern_path=/[mlhvcsqtaz][\d.,\-]*/gi,pattern_path_points=/-?(\d)+(\.(\d)+)?/g,pathCache={},parsePath=function(a){var t=a.trim().match(pattern_path),e=pathCache[a];return e?e:(pathCache[a]=e=[],t&&t.forEach(function(a){var t=a[0],r=a.match(pattern_path_points);if(e.push(a={c:t}),r&&r.length)switch(r.forEach(function(a,t){r[t]=parseFloat(a)}),t){case"M":case"m":case"L":case"l":a.x=r[0],a.y=r[1];break;case"H":case"h":a.x=r[0];break;case"V":case"v":a.y=r[0];break;case"C":case"c":a.x1=r[0],a.y1=r[1],a.x2=r[2],a.y2=r[3],a.x=r[4],a.y=r[5];break;case"S":case"s":a.x2=r[0],a.y2=r[1],a.x=r[2],a.y=r[3];break;case"Q":case"q":a.x1=r[0],a.y1=r[1],a.x=r[2],a.y=r[3];break;case"T":case"t":a.x=r[0],a.y=r[1]}}),e)},parseGradient=function(a,t){var e;return"linear"===a.type?e=t.createLinearGradient(a.x1,a.y1,a.x2,a.y2):"radial"===a.type&&(e=t.createRadialGradient(a.fx,a.fy,a.r/12,a.cx,a.cy,a.r)),e&&a.stop&&a.stop.length&&a.stop.forEach(function(a){e.addColorStop(parseFloat(a.offset),getFilterColor(a.color,t._color))}),e};